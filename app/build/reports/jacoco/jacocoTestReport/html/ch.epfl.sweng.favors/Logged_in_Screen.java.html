<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="fr"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Logged_in_Screen.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">app</a> &gt; <a href="index.source.html" class="el_package">ch.epfl.sweng.favors</a> &gt; <span class="el_source">Logged_in_Screen.java</span></div><h1>Logged_in_Screen.java</h1><pre class="source lang-java linenums">package ch.epfl.sweng.favors;

import android.databinding.DataBindingUtil;
import android.databinding.ObservableField;
import android.support.design.widget.NavigationView;
import android.os.Bundle;
import android.support.annotation.NonNull;
import android.support.v4.view.GravityCompat;
import android.support.v7.app.ActionBarDrawerToggle;
import android.support.v7.app.AppCompatActivity;
import android.view.MenuItem;

import ch.epfl.sweng.favors.R;
import ch.epfl.sweng.favors.database.User;
import ch.epfl.sweng.favors.databinding.ActivityLoggedInScreenBinding;
import ch.epfl.sweng.favors.databinding.NavHeaderBinding;


<span class="nc" id="L19">public class Logged_in_Screen extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {</span>

<span class="nc" id="L21">    public ObservableField&lt;String&gt; firstName = User.getMain().getObservableStringObject(User.StringFields.firstName);</span>
<span class="nc" id="L22">    public ObservableField&lt;String&gt; lastName = User.getMain().getObservableStringObject(User.StringFields.lastName);</span>
<span class="nc" id="L23">    public ObservableField&lt;String&gt; email = User.getMain().getObservableStringObject(User.StringFields.email);</span>

    ActivityLoggedInScreenBinding binding;

    NavHeaderBinding headerBinding;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
<span class="nc" id="L31">        super.onCreate(savedInstanceState);</span>

<span class="nc" id="L33">        binding = DataBindingUtil.setContentView(this, R.layout.activity_logged_in__screen);</span>
<span class="nc" id="L34">        binding.setElements(this);</span>

<span class="nc" id="L36">        binding.navView.setNavigationItemSelectedListener(this);</span>
<span class="nc" id="L37">        headerBinding = DataBindingUtil.inflate(getLayoutInflater(),</span>
                R.layout.nav_header, binding.navView, false);
<span class="nc" id="L39">        headerBinding.setElements(this);</span>
<span class="nc" id="L40">        binding.navView.addHeaderView(headerBinding.getRoot());</span>

<span class="nc" id="L42">        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, binding.drawerLayout,</span>
                binding.toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);

<span class="nc" id="L45">        binding.drawerLayout.addDrawerListener(toggle);</span>
<span class="nc" id="L46">        toggle.syncState();</span>
<span class="nc bnc" id="L47" title="All 2 branches missed.">        if(savedInstanceState == null){</span>
<span class="nc" id="L48">            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, new ProfileFragment()).commit();</span>
<span class="nc" id="L49">            binding.navView.setCheckedItem(R.id.profile);</span>
        }

<span class="nc" id="L52">    }</span>

    @Override
    public void onBackPressed() {
<span class="nc bnc" id="L56" title="All 2 branches missed.">        if(binding.drawerLayout.isDrawerOpen(GravityCompat.START)){</span>
<span class="nc" id="L57">            binding.drawerLayout.closeDrawer(GravityCompat.START);</span>
        }
        else{
<span class="nc" id="L60">            super.onBackPressed();</span>
        }

<span class="nc" id="L63">    }</span>

    @Override
    public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {
<span class="nc bnc" id="L67" title="All 5 branches missed.">        switch (menuItem.getItemId())</span>
        {
            case R.id.profile:
<span class="nc" id="L70">                getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, new ProfileFragment()).commit();</span>
<span class="nc" id="L71">                break;</span>
            case R.id.favors:
<span class="nc" id="L73">                getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, new FavorsFragment()).commit();</span>
<span class="nc" id="L74">                break;</span>
            case R.id.settings:
<span class="nc" id="L76">                getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, new SettingsFragment()).commit();</span>
<span class="nc" id="L77">                break;</span>
            case R.id.logout:
<span class="nc" id="L79">                Utils.logout(this);</span>
                break;
        }

<span class="nc" id="L83">        binding.drawerLayout.closeDrawer(GravityCompat.START);</span>
<span class="nc" id="L84">        return true;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.0.201801022044</span></div></body></html>